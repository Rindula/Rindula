name: Update README
on:
  schedule:
    - cron: 0 0/6 * * *
  workflow_dispatch:

jobs:
  update:
    name: Update README
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Create README
        run: |
          echo '### ðŸ‘‹ About Me' > README.md
          datediff() {     d1=$(date -d "$1" +%s);     d2=$(date -d "$2" +%s);     echo $(( (d1 - d2) / 86400 / (36525 / 100))); }; AGE=$(datediff 'now' '13 Jul 2000'); echo "Mein Name ist Sven Nolting. Ich bin ein deutscher Entwickler und aktuell $AGE Jahre alt." >> README.md
          echo '### ðŸ“‘ Erfahrung' >> README.md
          echo 'cv_replace_var' >> README.md
          echo '### ðŸ’¬ Programming Languages' >> README.md
          echo 'Die Programmiersprachen in denen ich grÃ¶ÃŸtenteils Programmiere sind PHP und Python, aber grundsetzlich bin ich im Webentwicklungsbereich tÃ¤tig.' >> README.md
          echo 'Deshalb habe ich natÃ¼rlich auch Erfahrung mit JavaScript, CSS, etc.' >> README.md
          echo 'In Python programmiere ich grÃ¶ÃŸtenteils automatisierungen, um sich immer wiederholende Aufgaben zu automatisieren. So beispielsweise diese Information. Das Alter aktualisiert sich an meinem Geburtstag und meine Erfahrungen werden von meinem (Xingprofil)[https://www.xing.com/profile/Sven_Nolting3] gelesen' >> README.md
          echo '### ðŸ’»Frameworks' >> README.md
          echo 'Ich habe fortgeschrittene Erfahrung mit dem CakePHP Framework in den Versionen 3 und 4, sowie grundlegende Erfahrung mit der Version 2' >> README.md
          echo 'Erst kÃ¼rzlich habe ich angefangen mir Symfony etwas nÃ¤her zu bringen.' >> README.md
          echo 'Auch mit Vue hab ich bereits einiges an erfahrung gesammelt.' >> README.md
          echo '### ðŸ“« Kontakt:' >> README.md
          echo '  - ðŸ“§ contact@rindula.de' >> README.md
      - name: Set up Python 3.8
        uses: actions/setup-python@v2
        with:
            python-version: 3.8
      - name: Fetch CV
        working-directory: ./fetcher/cv/
        run: |
          python -m pip install --upgrade pip
          if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
          python app.py
      - name: Update README
        uses: EndBug/add-and-commit@v7
        with:
          author_name: Rindula
          author_email: Rindula@users.noreply.github.com
